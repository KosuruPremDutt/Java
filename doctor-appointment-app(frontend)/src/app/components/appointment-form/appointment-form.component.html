<h2 class="text-center my-4">Book an Appointment</h2>

<form (ngSubmit)="submitForm()" #form="ngForm" class="w-50 mx-auto">
  <div class="mb-3">
    <label for="doctor" class="form-label">Doctor:</label>
    <select id="doctor" [(ngModel)]="appointment.doctorId" name="doctorId" required class="form-select">
      <option value="" disabled selected>Select a doctor</option>
      <option *ngFor="let doc of doctors" [value]="doc.id">{{ doc.name }} - {{ doc.specialization }}</option>
    </select>
  </div>

  <div class="mb-3">
    <label for="patientName" class="form-label">Patient Name:</label>
    <input type="text" id="patientName" [(ngModel)]="appointment.patientName" name="patientName" required class="form-control" />
  </div>

  <div class="mb-3">
    <label for="date" class="form-label">Date:</label>
    <input type="date" id="date" [(ngModel)]="appointment.date" name="date" required class="form-control" />
  </div>

  <div class="mb-3">
    <label for="time" class="form-label">Time:</label>
    <input type="time" id="time" [(ngModel)]="appointment.time" name="time" required class="form-control" />
  </div>

  <div class="mb-3">
    <label for="contact" class="form-label">Contact:</label>
    <input type="text" id="contact" [(ngModel)]="appointment.contact" name="contact" class="form-control" />
  </div>

  <button type="submit" [disabled]="form.invalid" class="btn btn-primary w-100">Book Appointment</button>
</form>

<p *ngIf="message" [ngClass]="{'text-danger': message.includes('Failed'), 'text-success': message.includes('successfully')}" class="mt-3 text-center">{{ message }}</p>

<nav class="mt-4 text-center">
  <a routerLink="/" class="mx-2">Home</a> |
  <a routerLink="/doctors" class="mx-2">Doctors</a> |
  <a routerLink="/appointments" class="mx-2">Book Appointment</a>
</nav>
